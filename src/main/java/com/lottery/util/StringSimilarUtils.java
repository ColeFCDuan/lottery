package com.lottery.util;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.stream.Collectors;

import org.apache.commons.collections4.SetUtils;

public class StringSimilarUtils {

	private StringSimilarUtils() {
	}

	/**
	 * 编程之美 计算字符串的相似度 我们定义一套操作方法来把两个不相同的字符串变得相同，具体的操作方法为： 1.修改一个字符（如把“a”替换为“b”）;
	 * 2.增加一个字符（如把“abdd”变为“aebdd”）; 3.删除一个字符（如把“travelling”变为“traveling”）;
	 * 比如，对于“abcdefg”和“abcdef”两个字符串来说，我们认为可以通过增加/减少一个“g”的方式来达到目的。 上面的两种方案，都仅需要一次
	 * 。把这个操作所需要的次数定义为两个字符串的距离，而相似度等于“距离+1”的倒数。 也就是说，“abcdefg”和“abcdef”的距离为1，相似度
	 * 为1/2=0.5。 给定任意两个字符串，你是否能写出一个算法来计算它们的相似度呢？
	 * 
	 * 解答：动态规划+备忘录
	 * 2012-11-04：主要思路还是递归。字符串记为A和B（当前比较的位置记为K，当前距离记为L），从第一个字符开始按位比较，分两种情况：
	 * 1、A和B在第K位的字符相等（L不变）。那好，各自向后移动，继续比较第K+1位
	 * 2、A和B在第K位的字符不相等（L=L+1）。采取递归，作三种操作，看哪种操作最后得到的距离最短：
	 * 一是A和B同时向后移动（相当于A和B同时删除这个字符），继续比较第K+1位 二是A移动B不移动，相当于A删除了这个字符，用剩余的字符与B作比较
	 * 三是A不移动B移动，相当于B删除了这个字符，用剩余的字符与A作比较 递归的好处就是可以递归得到这三种操作到最后得到的距离，哪个是最短
	 * 举个例子，A="abc",B="zbc"。我们可以一眼看出，采用第一种操作算得的距离最短（L=1） 但程序中要递归执行这另外两种操作并比较：
	 * A1="bc",B2="zbc" -->按位比较得到的L=1+3 A2="abc",B2="bc" -->按位比较得到的L=1+3
	 * 因此程序会选择第一种操作，再接着进行第K+1位的比较
	 */
	private static int[][] record; // 记录子问题的解，0表示子问题未求解

	public static void main(String[] args) {
		String a = "030608141926120104061011281605121720253110030405101632091116172226320402151727323303091726293032030409141516291102152326293002020609182426140209142227290201062728313307091013202627080109121423271201041012303214010813171819160212151927300305131516263209081424272933091013141517331402040911142205081420233033110206123031321107101319233106121415172933120306101127330301040622293003030716212431070406111419330709171920243104010709112432160304070915260703081216171908020607121724100214172932331602111226272903040930313233010206081728300604101519212302020615213031021012273132330304202224263307121415252831040305112832330101080913163301041011141529050204091112300101051921253315031214172327010718202224330101182226272808030607172831100713192225321302060823273202021422273033140213151726330101051617182410041214212729120308121620321201040921313305010412133032080714222327300803111214172609030518242531090507121827321102051419212801051012181927060507080920220209172728323308071021242932110203060814220402041416202211131415212329130405070921300416222426283106010414182429040408141820270306151726283103071619222428020524272931321003060820243207010306091931160117272931331209111318212215121519202932140508202231330312212729313304010206121618080209131522301501081924293004061518192432090611161921250103142024263310040608113033110114172022320406091115202610122024253033120114192229311607131623263001031719242731120304142023270104050709161806070812212327120405060813181613141719212901010611151931100710111524261104162225293108030609131619160809101315280904061011212302031013222328150307101218291003111825303314021216222532060106171927311406141617232907010612132432131517192225260402091323242616050609182331110607111427320809122127293005010712141825100210131623320801050709102016091115222426030915192123291504080913283304031315182133160405071012221608111723323310041922262930110206081011171303131519202714151621273033040108232528291001101415183113030711213033070205070820270402121323272812031117182425060411181926320404052428303309050709111925051115162024310401020314193303050714161821010710212331331410131921243007020405081130020107102231321502060913283212061014151923150105101926281221222628313207081216192632031317202122270104050608091811061013153233150107172325311104141623282903051519252629150608151920310501070810122401030618192131010315172327301102101117182916030913222325060813171820271304061528323314050810112728111114161824330401152022252814111820233132150110252730320903051115202309101215252627140103061011291603161831323312020411121832130102091015220621222431323301051217182428120204061618191606070819222302020506071115120106080914220503101114153202091314192225021321242731320105072022303210060814192325110304182627330103131416252712081221222731090811151723250505141722232815011319242629110107151620271401060916252609050818252631040107142425280811131621222302101118233133150513182126300201020512202201041819242526100405131819250102030619252901020915222324160206111921280501031426293309021114152933020307081425320606101120293213010217202528130105092028321210111221263309040716202430050418202129330706101619243316061113172532070102041014230706091214182714030512293032140105101618310302071721232616041025263033060506081222240304091821323303061214202224090102121620260304071320293303141517222429130310141718301202050915202410030708152930130709121322241109111420273009020914151623101116192225300802050613161903040915161927100613171923311208101720273001010409121518050916171922261001040614283301020510111721050506101620251202181924253311091011121823070408132530311004060813223211071213162631070515171920301301030620212601070910122226070406182225331601041011142706030506091532140507202327310401020410181907010304111923020112202530310206071216222507101314182031030304062526300105091217273006010406082124070610212829311207082023243213010308131823160812181923320315232425282909010607082730100817242628330407101117232815010511222326150419202228330621222324253206021618192730141314202125330701020914222505030811141823160207091418280504071214263204041316192125141119222631320212151621262916071419212223030304061123281406091014283005031112162123090212131825270703061126303212011112182527161115202126331509122024283107060813152233061112131926281203102123273311010817202122030510172326320705091012171913131420252731120207080917291102202128313306141819263031110114161720310407182429313316010811262831040509131518260507111213181916061023252629050205070911271606141920212308050815202730130407111429321203072021253114011925262733100206121725281203141620313209040609142029140813141823330601060711131505212225282930080214202428321601172428323302051020232631030307101821241201060714182616040511142832040615171823301102030509132811010710112627110513142325310205060914213302020613222931081415212427321201161721273016011423252930030206112628290304050611213110112021222427151118192224320708101519232816091621252631140809152230331601020811142109021420223032020410112530310106121315182613040616272933050310141622231105101719293212010312151923140814161821231607121415172001080915173032061215202527310203060712252607011415202330140121232531330104081014182011010411283132160407081823240202050616282904041922273033010510181930310302061112192906091012192229160811131928310607080915222712101819293233090507102328290301071016223309111213162325120709182223290603061314192806030506132022070105061625300901051120222402030814202426121418212528291003051425263005011216202224080307142325270805071819222416010204151722140104080914151301030619212907020616233031020306162326301406111423263002020306143132030106142225261202111223293105020610223031150103041018290401040617192603020508101221070210162224281512162022253104010722242631100607122026271105101324263104040809151925090109132228321118202223303116131418192128060712132024310502030923283308040911152931060708182429310702050915242511101220242729070108141520291005080914151907020508103233020413142326321005071620212505081619213132060813162327310801020407102304041013152227041519232829330402041214172415010408132427051115202225300501020510242715010614242832120407081932331305071520233015050815242731110610162627290301070920233002021521232530100708121322300902041114273005031012192730080215161722320709212526293113010304111822140206151618321502051022323309040810123133100406081223250801020317253109030708102223120508162227290201080914173201060818202331130811282931330610111415162407101112232629160508192528300702060809152914071315272829130204052426331502040826293308061112222330050513172627300701040815273216151923242532030911142025261507091624252906020809162022070611162022330702040509132105032023263233070102112026301404141828313212030715161723100103071219200604101227323305060923242533130110172123301204131517212415010205172632100106192628300307162024253007010609101532140207102027290302081018203312111213141833131516212227331505081319272807041018192527020317212327280105060821313314040911172627130712172629311602061217181910010608202730030915212427321007091214202716152223242829080203102325280902050621252809091921303132040914222331331403101417283302071820232731130608202226270905162022272909011116172026140612141518251202040714153204050728313233080911151627330502030708192616061118262732010405132225300408101927283116050911183031040105131924271105081014173013010319243233010310222327290401112123273306020825293132060613252628310106131421222416010509121832120607101218311006091517252709021315232429060408142223280702131720212607010314303132080314161825331502031011142112091011121532050112192021251602041218242605091617243031040612141517200902061525303207011617242532140103101224280202040823262902010917192029100708132230320101030616293207061011122025120911121516201305161922242502192126282932010306111823290108101120212711081923283132010913182027310403071318192005131622252627140312141719260316171823283207121315181921090506081820320804052226293208041112202528150305182024321107121922232611030408111618140506101622261106111619283204020810122931010106131924281601020409153312091224282930020608131422271003081314153004020508151722160720252627301404091217303203010310121830010514202630331207141723263109121718212224040313192023260301030718192716031213222829030615263132331603040709202203041319202629110315212223281506171820272915081214152127150308101926330310141922252912121518202127150608122125290111131517193105040912283033010411121724301202050714183113030610192529070409192223300709111322242605010210122224100613161723301012131417212504050608202230050120222425261601021422252607020810182027070712212226310107121416273215030810152229120204121419250610142425273204021524293233020512142027290613161820283112111418203133140810172225331201101423262801091417202430160613161820221307091115182507081115222729031118192129321205060823313211010308112931130910202122330909131422262707080916232430051617212830321507081519202413010407152832161315192021320413171920222511030819252728020620282930311201101318252709010208161924111422232728311202051223282901011214182632070205141927310402031320222415030511283033011012131922260306141516172210050811161827040103081122280607101922273306101115202329120513222730331002030512182701050809122228070507111622250701032021282912162124262729160208101823310801041121233112041112182632120406152326281101070814243203040709132126010105070819271201031019202711081416182030120507161722230401080916323313021219222427150714161821250801030423313213091016192026120918212325260106081326303214070912142123060816222428290502031117192108060710111422090609132627330109121420262704061617232431070415212830310401040613161710010313212531080915192126270105071719223111101214222533151214192728290102122024293109091516192028110506081618221202082527282905151820222829150607161829320502080914283007132022262831131417252728300209141520263211030720222629020106081013271601091019232709061113192132040407212526290801021722262704010305202131050818202829310801071319212915011317182330150615182126271002050824253114050811172428160810141926291211121417232701010709162232120914151821261606182226323304010318273132130206091625321402091018192015092024252632040107081618201401101518192802010207102226070307172232331002041116252612041024262832090309121617310407121417202305131617222527100203202426270905071014233101010513223031070203041314160211121524262715091019212332080409111721250613161827303216011315262930120506111214331405071218283103040616172633030108092224330312131718202713030621293132051114161829321601050722263211081114151626070714151921280704071026272814050709162629070213172122331310111215273214091116182324100809101329300104071016232510141516172728080104071922230402061119252604060912142829091318202527331202061015173113010720242533040212161927301108092425262901030522232931060414151718201501020308213109040714172125140407101620220301070917203308011011293133130710161718321502141516232410101520232431150715162528320501070916202306081315202125120405081121270803081422243209070910151933010102051215161306072226313210010613202932011012132326291103050609102714031218202526160621222325281308091116212410061011141733060114152025291104061329313313030609112529090316192731321002041113253301051622232628021314162330311305061415183308051721222832140102102430331005080920283202050708171824140210122123271206111617222701101115263132060217202431330401061117283305060911162029110102132228300901071216232804061317202629090507151826300305101725282904091014151929160109101113320302072330323310121428313233070115162124300302081720222802010811131930060205111519280203080920232802111417222527160914171821251514161719273204020612192728130308091018330414162124283113161820232432070106091014161101051011133214021317202931070713242527321512141719222408050608142231080110182023290102080910202905031318192226070105121927291405091119243213040614172730090306111416291506182223323306020410121430080102111923290801060910132508050619212333120204202526291108142224272910051416172530070207162227280202030506091707080912151922100610121718331103091122272906010306133031120112162030330201030713193216020412172225140107091928290705121719253011041213222729160106071718230602051517182116030405081022060209151629321403081721223116060915242526090214172728310803051418253306050812132325130203121314251102041218233108011118202829010209141921300401040511293014141719222631020913152830330810161921232413031723252632130607161723320606091617242516081011121929150210111718221002040911192215040921272833120205091424330912152025283314071116182122020304061112150803111519203107040722232433160613142425300701070809112203070809173233060103040825310605132328323312010214222933070410161721271412181923243010020714162129140616212730320508101416303101010205061123140105101416301608101620233009070913172122100406071021261608101517222912091417232425150210151920210713171821303315040607142526100203071321240802111930323309040919222529150509131517211301081119212408091013142132020507082031331108091920253216051416212930120810121418281403040717212714151823273233040104192224251506101128303312042123313233040309152027290107111419242905081113182833100406141618290503091019283309011516252629100918252630321106111214172201021516171930080820253032330106101316232415050712192731021218212227321111121420222914030405253031040105121321221007081113212708041516242728030417192324271004061416182606092324252931120117181925291004071219222501202122232527120406121719260901031516313308050610142731140713171925310802031320223314041019273133160406081825281603091523253007010206111725020710131526271104050607252707050613182331110515202226320902031722323316091213242733161215212632330703121617182708040617212333070407111724330901061213223107010203060833131517182129321309232427293208162122283132050709111728311109112330313206011123273132090102041517281102040913182007020405060816030507092327320104081114162011051120212631030715181920261405141722232507010222282930150106151928291002041418202207010208262931140711152126310604142425283110020511232429080408121921251309152021222414021319232428050204111316261102081214163216050709112021030506121419230904131420223006010410132131131011122328321607131719222613030517182627150914232426290314232426293003040609253033140306081419320302091317202811020811141933090512212326280902030910283006071617183033060207132025270601040915223006010316172032070718192329300201091322253212101518202331120106071922270205060712131812050710131920150310182427290908111721232405131619232628050312252628291608181922273206030408142128140312132230331406071421222413081215192829020307131822250310131416213214101317283032040108111727301203161920242606060708142331120305111826280603061415172516010812131533030210121723240502041012173010010214152429060910121415191102151827283214040509272931130114151726300206152022263309050613171928010421252930330303131415213303071418252629060607101923291207081425262813010204122124120411141522311116171824253008040513232730090306151830320502040709152007010617192631110107081216210101020516202606020813282930050406123031320902050612142805050607111318150204051719200805061319222809061417222829020312172427290901091117323312010409131623020308172125321502091522263201091013172230130113142531321206101620273208222326272833090116182228301206081415242506050712162832040405112127281010121822282907051424252632010911172324260701051325263213030611172131070212152324320901050713293213052026272833030310121327300407081825303206051822282931060305081920270914182730313315081921242831150107161719211401020406131707020708172128110205070811171602050607132315010811202129020712161721251006181926283212010315202231030107091721290105091229303105010911212632080305121523240708121326293301060721252733110810162528330912131922282911010708202324110104202428291612202526272813050607121528111315182024280903212629313203030820242632140106112627291503060913183206081520212731060209102022311303071013223209021224262931030109121319281311121524253109131420222332160613141517300404050910192803040911143233021325272829301509121718203302050715182533100812151621271602121926293109050813141922060407111629330717242728293002060914162333150305192124331306131718283203010507081921160213202529301103071013142511030523242731150310111314220908091315222308051724303133050210202628291404091415263304020411182229060205102425290604091415162703060712243033120815222428331202041318262812111822272930150406222329321115161819283208040709101727050203070913300603041921222308020304243132110810111820290605172226323310040510212630160102092629331208101819273114051011162324110210171924271202131617203107030811121418140710131617290104132122263101030615202526040305192127310404071417263110040613202428010614182030331404152225273304020305062024040212141730310907131517192411041213192032020105142224301006071116323311041219202333060811202127300906091014222503020911212633030506111924281608111520243202030809222531100102051322290809101115193316051419242833090211131819260909111221242605020308233233160203151617270401021017222404041622242731030910171821310804071525262803101520212830110416222530311203070915242516030809172527060412192125281305091523243302040812242627040115161822300303081218232911071418202230160305062226321506091419252810020512172225080103061021231501020516283012060824293032131517182023270104141516202605010313192526100416242627331101122023242908101719272832040222252932330807091827313306010510112123160306082429310902030709103213010405091517060508091020251304101112212613071116193133100810121522271304050607233116051422232526140408121718301011232628323310020414152630040102091016240307081214153016121516262931020204061924291104182022272906082024273031030105152428320702111823303313020406202231071213172025261201020607303110121420212531160205121325330702070917212501071418232532150710112123260609111417192312161922232729110307131823261603101524273208091819263132160104051419281610121826273103041422253233020414172830330709121419283201050611142021100810192628300401071112172705070809121733160114151630320906101125323305030516182324150103052025270412142126283312010309151633150217222629331004091617222915021112142432140406232527280109101620252909040510131516120105132127311106101923293106071121233132051012132126271403072021223205091719202126160104071314191503070810232405091112171819050407111323300905101726313204091521232830030205141821251601021124293012030917202129040203040518280106070912172409030611212431100910121618321507161824282906071617202526040614192325321202070925313209031415162429050305132022290901070815262910061921263233130709101231321302212628293201030405121721140106101118271201021522283002010305122128120213161824301203071015192410171920242527120406141730321204162325272903030607293033020406131518190504080910293003020308131921031011132127310124262729313316071822303233060406202126330213161920232510081316172932160811161722330803061012223015040508192728080107111415161404051922282915011117182731141014182526271504132325273314091718262930080216172026320803141626273109041314172531040513151719211504101213303213051114242628130307101624291302141519232412010304061725110211202224310513141820273102131417192431080208121319290403050713141515161724282932120209192425331001040910203107010405141617011318212225260107081719212612082526313233090507101926311402030621222505020714161721050102141825310812161719243005020412193233161315182830330102061523263308030416172229130306132627290705071011232616010313162122080708111315261301121819212410010405091519131718232425260410121317243115010917242631050103051316180506091214202213040608101326051314212223270406081217283305030920242632100306121930311304091721253101021314171926140217182329300602070816253009010307182327120208151824300301171822253201032124272831080203081519211109161826303114021618232627100203071823270601121318262915111318202631090121232426300507091013193306041023242633100410132526301009151622272806030917212632010210121824331505061516192606010207152131160408142528321604111920242812010408172533010313182027280506071323282909020608111225020612151829321002091216252706081113182530150102050610291607172527303109050811131525050108202224280105091020222607012224252933150108111517250105101518202810010818242930160407081317181001031224262701041518252932150204082023240708121517223316020608152629160108091921311107172324273202060914172033090411162022291004091821252606010612222326080304172427300601030816293307101618212426010712212324280309111617252714030507273132100910192832330603131927283002061316202224160106101525311407080916232601050615232730120108161725301005212829303108010812132427080210141820300302202122233112010813142731020203092426270508101314162316081112141822020103091117231202081420212409011214293132150509121315221402101718192915011620232731020608222330310105131417202601081323273133071214202224321103131820232813010710142125010103212231320702070817303212081425263031110206101723240311131520313303020416192226120108151822270901091112183010010411171929120511121925320501020308133207020313192023080106081214250603222427283014010219232729100417232728320307212226283011010610262728020106081023330203101320213215111221232732050203041320290103092123273105041019222833040306112031321003051319252912121924253032110817212325321201060711131601031619212426060613142829300809101118192110061113222532120810111225290908182128293308050713242528040306101625310501051416172203010306121632120304152526301302040508192212040507101325110716262729311402091122242711010218293132020209161719250405061422242609021022242627061128293032330201030611122311020810123033160104162123280601030714262802010203161823120208131425331007081422243007070812152226080109132124320605071315183014142227283033140305071314180503050608171814011213162328071422262728310403060723303313071718272932130107121418251606070820212510030419212728050608101625301404060716192004010316182229040612152229321006081018223216030916202233150305111526331101051017182912050911172328100711151920241302132128293109040511182233120105151727290204071426323314081214151721010104142230330101031419303316030512152833060509131820320104141521233007162325263233050203071213301106071617242507050815162632010211121415160403050610192315060708222627120304222328301009132022252814071416272932010204061025300901020812163016060710121521051216252627";
		String b = "03060814192612010406101128160512172025311003040510163209111617222632040215172732330309172629303203040914151629110215232629300202060918242614020914222729020106272831330709101320262708010912142327120104101230321401081317181916021215192730030513151626320908142427293309101314151733140204091114220508142023303311020612303132110710131923310612141517293312030610112733030104062229300303071621243107040611141933070917192024310401070911243216030407091526070308121617190802060712172410021417293233160211122627290304093031323301020608172830060410151921230202061521303102101227313233030420222426330712141525283104030511283233010108091316330104101114152905020409111230010105192125331503121417232701071820222433010118222627280803060717283110071319222532130206082327320202142227303314021315172633010105161718241004121421272912030812162032120104092131330501041213303208071422232730080311121417260903051824253109050712182732110205141921280105101218192706050708092022020917272832330807102124293211020306081422040204141620221113141521232913040507092130041622242628310601041418242904040814182027030615172628310307161922242802052427293132100306082024320701030609193116011727293133120911131821221512151920293214050820223133031221272931330401020612161808020913152230150108192429300406151819243209061116192125010314202426331004060811303311011417202232040609111520261012202425303312011419222931160713162326300103171924273112030414202327010405070916180607081221232712040506081318161314171921290101061115193110071011152426110416222529310803060913161916080910131528090406101121230203101322232815030710121829100311182530331402121622253206010617192731140614161723290701061213243213151719222526040209132324261605060918233111060711142732080912212729300501071214182510021013162332080105070910201609111522242603091519212329150408091328330403131518213316040507101222160811172332331004192226293011020608101117130313151920271415162127303304010823252829100110141518311303071121303307020507082027040212132327281203111718242506041118192632040405242830330905070911192505111516202431040102031419330305071416182101071021233133141013192124300702040508113002010710223132150206091328321206101415192315010510192628122122262831320708121619263203131720212227010405060809181106101315323315010717232531110414162328290305151925262915060815192031050107081012240103061819213101031517232730110210111718291603091322232506081317182027130406152832331405081011272811111416182433040115202225281411182023313215011025273032090305111520230910121525262714010306101129160316183132331202041112183213010209101522062122243132330105121718242812020406161819160607081922230202050607111512010608091422050310111415320209131419222502132124273132010507202230321006081419232511030418262733010313141625271208122122273109081115172325050514172223281501131924262911010715162027140106091625260905081825263104010714242528081113162122230210111823313315051318212630020102051220220104181924252610040513181925010203061925290102091522232416020611192128050103142629330902111415293302030708142532060610112029321301021720252813010509202832121011122126330904071620243005041820212933070610161924331606111317253207010204101423070609121418271403051229303214010510161831030207172123261604102526303306050608122224030409182132330306121420222409010212162026030407132029330314151722242913031014171830120205091520241003070815293013070912132224110911142027300902091415162310111619222530080205061316190304091516192710061317192331120810172027300101040912151805091617192226100104061428330102051011172105050610162025120218192425331109101112182307040813253031100406081322321107121316263107051517192030130103062021260107091012222607040618222533160104101114270603050609153214050720232731040102041018190701030411192302011220253031020607121622250710131418203103030406252630010509121727300601040608212407061021282931120708202324321301030813182316081218192332031523242528290901060708273010081724262833040710111723281501051122232615041920222833062122232425320602161819273014131420212533070102091422250503081114182316020709141828050407121426320404131619212514111922263132021215162126291607141921222303030406112328140609101428300503111216212309021213182527070306112630321201111218252716111520212633150912202428310706081315223306111213192628120310212327331101081720212203051017232632070509101217191313142025273112020708091729110220212831330614181926303111011416172031040718242931331601081126283104050913151826050711121318191606102325262905020507091127160614192021230805081520273013040711142932120307202125311401192526273310020612172528120314162031320904060914202914081314182333060106071113150521222528293008021420242832160117242832330205102023263103030710182124120106071418261604051114283204061517182330110203050913281101071011262711051314232531020506091421330202061322293108141521242732120116172127301601142325293003020611262829030405061121311011202122242715111819222432070810151923281609162125263114080915223033160102081114210902142022303202041011253031010612131518261304061627293305031014162223110510171929321201031215192314081416182123160712141517200108091517303206121520252731020306071225260701141520233014012123253133010408101418201101041128313216040708182324020205061628290404192227303301051018193031030206111219290609101219222916081113192831060708091522271210181929323309050710232829030107101622330911121316232512070918222329060306131419280603050613202207010506162530090105112022240203081420242612141821252829100305142526300501121620222408030714232527080507181922241601020415172214010408091415130103061921290702061623303102030616232630140611142326300202030614313203010614222526120211122329310502061022303115010304101829040104061719260302050810122107021016222428151216202225310401072224263110060712202627110510132426310404080915192509010913222832111820222330311613141819212806071213202431050203092328330804091115293106070818242931070205091524251110122024272907010814152029100508091415190702050810323302041314232632100507162021250508161921313206081316232731080102040710230404101315222704151923282933040204121417241501040813242705111520222530050102051024271501061424283212040708193233130507152023301505081524273111061016262729030107092023300202152123253010070812132230090204111427300503101219273008021516172232070921252629311301030411182214020615161832150205102232330904081012313310040608122325080102031725310903070810222312050816222729020108091417320106081820233113081128293133061011141516240710111223262916050819252830070206080915291407131527282913020405242633150204082629330806111222233005051317262730070104081527321615192324253203091114202526150709162425290602080916202207061116202233070204050913210503202326323307010211202630140414182831321203071516172310010307121920060410122732330506092324253313011017212330120413151721241501020517263210010619262830030716202425300701060910153214020710202729030208101820331211121314183313151621222733150508131927280704101819252702031721232728010506082131331404091117262713071217262931160206121718191001060820273003091521242732100709121420271615222324282908020310232528090205062125280909192130313204091422233133140310141728330207182023273113060820222627090516202227290901111617202614061214151825120204071415320405072831323308091115162733050203070819261606111826273201040513222530040810192728311605091118303104010513192427110508101417301301031924323301031022232729040111212327330602082529313206061325262831010613142122241601050912183212060710121831100609151725270902131523242906040814222328070213172021260701031430313208031416182533150203101114211209101112153205011219202125160204121824260509161724303104061214151720090206152530320701161724253214010310122428020204082326290201091719202910070813223032010103061629320706101112202512091112151620130516192224250219212628293201030611182329010810112021271108192328313201091318202731040307131819200513162225262714031214171926031617182328320712131518192109050608182032080405222629320804111220252815030518202432110712192223261103040811161814050610162226110611161928320402081012293101010613192428160102040915331209122428293002060813142227100308131415300402050815172216072025262730140409121730320301031012183001051420263033120714172326310912171821222404031319202326030103071819271603121322282903061526313233160304070920220304131920262911031521222328150617182027291508121415212715030810192633031014192225291212151820212715060812212529011113151719310504091228303301041112172430120205071418311303061019252907040919222330070911132224260501021012222410061316172330101213141721250405060820223005012022242526160102142225260702081018202707071221222631010712141627321503081015222912020412141925061014242527320402152429323302051214202729061316182028311211141820313314081017222533120110142326280109141720243016061316182022130709111518250708111522272903111819212932120506082331321101030811293113091020212233090913142226270708091623243005161721283032150708151920241301040715283216131519202132041317192022251103081925272802062028293031120110131825270901020816192411142223272831120205122328290101121418263207020514192731040203132022241503051128303301101213192226030614151617221005081116182704010308112228060710192227330610111520232912051322273033100203051218270105080912222807050711162225070103202128291216212426272916020810182331080104112123311204111218263212040615232628110107081424320304070913212601010507081927120103101920271108141618203012050716172223040108091632331302121922242715071416182125080103042331321309101619202612091821232526010608132630321407091214212306081622242829050203111719210806071011142209060913262733010912142026270406161723243107041521283031040104061316171001031321253108091519212627010507171922311110121422253315121419272829010212202429310909151619202811050608161822120208252728290515182022282915060716182932050208091428300713202226283113141725272830020914152026321103072022262902010608101327160109101923270906111319213204040721252629080102172226270401030520213105081820282931080107131921291501131718233015061518212627100205082425311405081117242816081014192629121112141723270101070916223212091415182126160618222632330401031827313213020609162532140209101819201509202425263204010708161820140110151819280201020710222607030717223233100204111625261204102426283209030912161731040712141720230513161722252710020320242627090507101423310101051322303107020304131416021112152426271509101921233208040911172125061316182730321601131526293012050611121433140507121828310304061617263303010809222433031213171820271303062129313205111416182932160105072226321108111415162607071415192128070407102627281405070916262907021317212233131011121527321409111618232410080910132930010407101623251014151617272808010407192223040206111925260406091214282909131820252733120206101517311301072024253304021216192730110809242526290103052223293106041415171820150102030821310904071417212514040710162022030107091720330801101129313313071016171832150214151623241010152023243115071516252832050107091620230608131520212512040508112127080308142224320907091015193301010205121516130607222631321001061320293201101213232629110305060910271403121820252616062122232528130809111621241006101114173306011415202529110406132931331303060911252909031619273132100204111325330105162223262802131416233031130506141518330805172122283214010210243033100508092028320205070817182414021012212327120611161722270110111526313206021720243133040106111728330506091116202911010213222830090107121623280406131720262909050715182630030510172528290409101415192916010910111332030207233032331012142831323307011516212430030208172022280201081113193006020511151928020308092023280211141722252716091417182125151416171927320402061219272813030809101833041416212428311316182023243207010609101416110105101113321402131720293107071324252732151214171922240805060814223108011018202329010208091020290503131819222607010512192729140509111924321304061417273009030611141629150618222332330602041012143008010211192329080106091013250805061921233312020420252629110814222427291005141617253007020716222728020203050609170708091215192210061012171833110309112227290601030613303112011216203033020103071319321602041217222514010709192829070512171925301104121322272916010607171823060205151718211603040508102206020915162932140308172122311606091524252609021417272831080305141825330605081213232513020312131425110204121823310801111820282901020914192130040104051129301414171922263102091315283033081016192123241303172325263213060716172332060609161724251608101112192915021011171822100204091119221504092127283312020509142433091215202528331407111618212202030406111215080311151920310704072223243316061314242530070107080911220307080917323306010304082531060513232832331201021422293307041016172127141218192324301002071416212914061621273032050810141630310101020506112314010510141630160810162023300907091317212210040607102126160810151722291209141723242515021015192021071317182130331504060714252610020307132124080211193032330904091922252915050913151721130108111921240809101314213202050708203133110809192025321605141621293012081012141828140304071721271415182327323304010419222425150610112830331204212331323304030915202729010711141924290508111318283310040614161829050309101928330901151625262910091825263032110611121417220102151617193008082025303233010610131623241505071219273102121821222732111112142022291403040525303104010512132122100708111321270804151624272803041719232427100406141618260609232425293112011718192529100407121922250120212223252712040612171926090103151631330805061014273114071317192531080203132022331404101927313316040608182528160309152325300701020611172502071013152627110405060725270705061318233111051520222632090203172232331609121324273316121521263233070312161718270804061721233307040711172433090106121322310701020306083313151718212932130923242729320816212228313205070911172831110911233031320601112327313209010204151728110204091318200702040506081603050709232732010408111416201105112021263103071518192026140514172223250701022228293015010615192829100204141820220701020826293114071115212631060414242528311002051123242908040812192125130915202122241402131923242805020411131626110208121416321605070911202103050612141923090413142022300601041013213113101112232832160713171922261303051718262715091423242629031423242629300304060925303314030608141932030209131720281102081114193309051221232628090203091028300607161718303306020713202527060104091522300601031617203207071819232930020109132225321210151820233112010607192227020506071213181205071013192015031018242729090811172123240513161923262805031225262829160818192227320603040814212814031213223033140607142122241308121519282902030713182225031013141621321410131728303204010811172730120316192024260606070814233112030511182628060306141517251601081213153303021012172324050204101217301001021415242906091012141519110215182728321404050927293113011415172630020615202226330905061317192801042125293033030313141521330307141825262906060710192329120708142526281301020412212412041114152231111617182425300804051323273009030615183032050204070915200701061719263111010708121621010102051620260602081328293005040612303132090205061214280505060711131815020405171920080506131922280906141722282902031217242729090109111732331201040913162302030817212532150209152226320109101317223013011314253132120610162027320822232627283309011618222830120608141524250605071216283204040511212728101012182228290705142425263201091117232426070105132526321303061117213107021215232432090105071329321305202627283303031012132730040708182530320605182228293106030508192027091418273031331508192124283115010716171921140102040613170702070817212811020507081117160205060713231501081120212902071216172125100618192628321201031520223103010709172129010509122930310501091121263208030512152324070812132629330106072125273311081016252833091213192228291101070820232411010420242829161220252627281305060712152811131518202428090321262931320303082024263214010611262729150306091318320608152021273106020910202231130307101322320902122426293103010912131928131112152425310913142022233216061314151730040405091019280304091114323302132527282930150912171820330205071518253310081215162127160212192629310905081314192206040711162933071724272829300206091416233315030519212433130613171828320301050708192116021320252930110307101314251103052324273115031011131422090809131522230805172430313305021020262829140409141526330402041118222906020510242529060409141516270306071224303312081522242833120204131826281211182227293015040622232932111516181928320804070910172705020307091330060304192122230802030424313211081011182029060517222632331004051021263016010209262933120810181927311405101116232411021017192427120213161720310703081112141814071013161729010413212226310103061520252604030519212731040407141726311004061320242801061418203033140415222527330402030506202404021214173031090713151719241104121319203202010514222430100607111632331104121920233306081120212730090609101422250302091121263303050611192428160811152024320203080922253110010205132229080910111519331605141924283309021113181926090911122124260502030823323316020315161727040102101722240404162224273103091017182131080407152526280310152021283011041622253031120307091524251603080917252706041219212528130509152324330204081224262704011516182230030308121823291107141820223016030506222632150609141925281002051217222508010306102123150102051628301206082429303213151718202327010414151620260501031319252610041624262733110112202324290810171927283204022225293233080709182731330601051011212316030608242931090203070910321301040509151706050809102025130410111221261307111619313310081012152227130405060723311605142223252614040812171830101123262832331002041415263004010209101624030708121415301612151626293102020406192429110418202227290608202427303103010515242832070211182330331302040620223107121317202526120102060730311012142021253116020512132533070207091721250107141823253215071011212326060911141719231216192223272911030713182326160310152427320809181926313216010405141928161012182627310304142225323302041417283033070912141928320105061114202110081019262830040107111217270507080912173316011415163032090610112532330503051618232415010305202527041214212628331201030915163315021722262933100409161722291502111214243214040623252728010910162025290904051013151612010513212731110610192329310607112123313205101213212627140307202122320509171920212616010407131419150307081023240509111217181905040711132330090510172631320409152123283003020514182125160102112429301203091720212904020304051828010607091217240903061121243110091012161832150716182428290607161720252604061419232532120207092531320903141516242905030513202229090107081526291006192126323313070910123132130221262829320103040512172114010610111827120102152228300201030512212812021316182430120307101519241017192024252712040614173032120416232527290303060729303302040613151819050408091029300302030813192103101113212731012426272931331607182230323306040620212633021316192023251008131617293216081116172233080306101222301504050819272808010711141516140405192228291501111718273114101418252627150413232527331409171826293008021617202632080314162627310904131417253104051315171921150410121330321305111424262813030710162429130214151923241201030406172511021120222431051314182027310213141719243108020812131929040305071314151516172428293212020919242533100104091020310701040514161701131821222526010708171921261208252631323309050710192631140203062122250502071416172105010214182531081216171924300502041219323316131518283033010206152326330803041617222913030613262729070507101123261601031316212208070811131526130112181921241001040509151913171823242526041012131724311501091724263105010305131618050609121420221304060810132605131421222327040608121728330503092024263210030612193031130409172125310102131417192614021718232930060207081625300901030718232712020815182430030117182225320103212427283108020308151921110916182630311402161823262710020307182327060112131826291511131820263109012123242630050709101319330604102324263310041013252630100915162227280603091721263201021012182433150506151619260601020715213116040814252832160411192024281201040817253301031318202728050607132328290902060811122502061215182932100209121625270608111318253015010205061029160717252730310905081113152505010820222428010509102022260701222425293315010811151725010510151820281001081824293016040708131718100103122426270104151825293215020408202324070812151722331602060815262916010809192131110717232427320206091417203309041116202229100409182125260601061222232608030417242730060103081629330710161821242601071221232428030911161725271403050727313210091019283233060313192728300206131620222416010610152531140708091623260105061523273012010816172530100521282930310801081213242708021014182030030220212223311201081314273102020309242627050810131416231608111214182202010309111723120208142021240901121429313215050912131522140210171819291501162023273102060822233031010513141720260108132327313307121420222432110313182023281301071014212501010321223132070207081730321208142526303111020610172324031113152031330302041619222612010815182227090109111218301001041117192912051112192532050102030813320702031319202308010608121425060322242728301401021923272910041723272832030721222628301101061026272802010608102333020310132021321511122123273205020304132029010309212327310504101922283304030611203132100305131925291212192425303211081721232532120106071113160103161921242606061314282930080910111819211006111322253212081011122529090818212829330805071324252804030610162531050105141617220301030612163212030415252630130204050819221204050710132511071626272931140209112224271101021829313202020916171925040506142224260902102224262706112829303233020103061112231102081012303316010416212328060103071426280201020316182312020813142533100708142224300707081215222608010913212432060507131518301414222728303314030507131418050305060817181401121316232807142226272831040306072330331307171827293213010712141825160607082021251003041921272805060810162530140406071619200401031618222904061215222932100608101822321603091620223315030511152633110105101718291205091117232810071115192024130213212829310904051118223312010515172729020407142632331408121415172101010414223033010103141930331603051215283306050913182032010414152123300716232526323305020307121330110607161724250705081516263201021112141516040305061019231506070822262712030422232830100913202225281407141627293201020406102530090102081216301606071012152105121625262";
		System.out.println(jaccard(a, b));
	}

	public static double impossibleEnd(String a, String b, boolean ifFalseBreak) {
		if (a == null || b == null) {
			return 0f;
		}
		if (a.length() != b.length()) {
			return 0f;
		}
		double count = 0;
		int size = a.length();
		for (int i = 0, j = 1; j < size; i++, j++) {
			if (a.charAt(i) != b.charAt(i) || a.charAt(j) != b.charAt(j)) {
				if (ifFalseBreak) {
					break;
				}
			} else {
				count += 2;
			}
		}
		return count / size;
	}

	public static float cos(String a, String b) {
		if (a == null || b == null) {
			return 0F;
		}
		Set<Integer> aChar = a.chars().boxed().collect(Collectors.toSet());
		Set<Integer> bChar = b.chars().boxed().collect(Collectors.toSet());

		// 统计字频
		Map<Integer, Integer> aMap = new HashMap<>();
		Map<Integer, Integer> bMap = new HashMap<>();
		for (Integer a1 : aChar) {
			aMap.put(a1, aMap.getOrDefault(a1, 0) + 1);
		}
		for (Integer b1 : bChar) {
			bMap.put(b1, bMap.getOrDefault(b1, 0) + 1);
		}

		// 向量化
		Set<Integer> union = SetUtils.union(aChar, bChar);
		int[] aVec = new int[union.size()];
		int[] bVec = new int[union.size()];
		List<Integer> collect = new ArrayList<>(union);
		for (int i = 0; i < collect.size(); i++) {
			aVec[i] = aMap.getOrDefault(collect.get(i), 0);
			bVec[i] = bMap.getOrDefault(collect.get(i), 0);
		}

		// 分别计算三个参数
		int p1 = 0;
		for (int i = 0; i < aVec.length; i++) {
			p1 += (aVec[i] * bVec[i]);
		}

		float p2 = 0f;
		for (int i : aVec) {
			p2 += (i * i);
		}
		p2 = (float) Math.sqrt(p2);

		float p3 = 0f;
		for (int i : bVec) {
			p3 += (i * i);
		}
		p3 = (float) Math.sqrt(p3);

		return ((float) p1) / (p2 * p3);
	}

	public static float hamming(String a, String b) {
		if (a == null || b == null) {
			return 0f;
		}
		if (a.length() != b.length()) {
			return 0f;
		}

		int disCount = 0;
		for (int i = 0; i < a.length(); i++) {
			if (a.charAt(i) != b.charAt(i)) {
				disCount++;
			}
		}
		return (float) disCount / (float) a.length();
	}

	public static float levenshtein(String a, String b) {
		if (a == null && b == null) {
			return 1f;
		}
		if (a == null || b == null) {
			return 0F;
		}
		int editDistance = editDis(a, b);
		return 1 - ((float) editDistance / Math.max(a.length(), b.length()));
	}

	private static int editDis(String a, String b) {

		int aLen = a.length();
		int bLen = b.length();

		if (aLen == 0)
			return aLen;
		if (bLen == 0)
			return bLen;

		int[][] v = new int[aLen + 1][bLen + 1];
		for (int i = 0; i <= aLen; ++i) {
			for (int j = 0; j <= bLen; ++j) {
				if (i == 0) {
					v[i][j] = j;
				} else if (j == 0) {
					v[i][j] = i;
				} else if (a.charAt(i - 1) == b.charAt(j - 1)) {
					v[i][j] = v[i - 1][j - 1];
				} else {
					v[i][j] = 1 + Math.min(v[i - 1][j - 1], Math.min(v[i][j - 1], v[i - 1][j]));
				}
			}
		}
		return v[aLen][bLen];
	}

	public static float sorensenDice(String a, String b) {
		if (a == null && b == null) {
			return 1f;
		}
		if (a == null || b == null) {
			return 0F;
		}
		Set<Integer> aChars = a.chars().boxed().collect(Collectors.toSet());
		Set<Integer> bChars = b.chars().boxed().collect(Collectors.toSet());
		// 求交集数量
		int intersect = SetUtils.intersection(aChars, bChars).size();
		if (intersect == 0) {
			return 0F;
		}
		// 全集，两个集合直接加起来
		int aSize = aChars.size();
		int bSize = bChars.size();
		return (2 * (float) intersect) / ((float) (aSize + bSize));
	}

	public static float jaccard(String a, String b) {
		if (a == null && b == null) {
			return 1f;
		}
		// 都为空相似度为 1
		if (a == null || b == null) {
			return 0f;
		}
		Set<Integer> aChar = a.chars().boxed().collect(Collectors.toSet());
		Set<Integer> bChar = b.chars().boxed().collect(Collectors.toSet());
		// 交集数量
		int intersection = SetUtils.intersection(aChar, bChar).size();
		if (intersection == 0)
			return 0;
		// 并集数量
		int union = SetUtils.union(aChar, bChar).size();
		return ((float) intersection) / (float) union;
	}

	public static int distanceBetween(String strA, String strB) {
		int distance = -1;
		if (strA != null && strB != null) {
			int lenA = strA.length();
			int lenB = strB.length();
			if (lenA == 0 && lenB == 0) {
				distance = 0;
			}
			if (lenA != 0 && lenB == 0) {
				distance = lenA;
			}
			if (lenA == 0 && lenB != 0) {
				distance = lenB;
			}
			if (lenA != 0 && lenB != 0) {
				record = new int[lenA + 1][lenB + 1];
				char[] charArrayA = strA.toCharArray();
				char[] charArrayB = strB.toCharArray();
				distance = distanceHelp(charArrayA, charArrayB, 0, 0, lenA - 1, lenB - 1);
			}
		}
		return distance;
	}

	// endA和endB是不变的，因此记录子问题的解可用record[beginA][beginB]来表示
	public static int distanceHelp(char[] charArrayA, char[] charArrayB, int beginA, int beginB, int endA, int endB) {
		if (beginA > endA) { // 递归出口：A从头到尾每个字符遍历完了，B有两种情况：
			if (beginB > endB) { // 1.B也同时遍历完了，说明这A=B
				return 0;
			} else {
				return endB - beginB + 1; // 2.B还没遍历完，那B剩下的长度就是两个字符串不同的地方，即距离
			}
		}
		if (beginB > endB) {
			return endA - beginA + 1;
		}

		int distance = -1;
		if (charArrayA[beginA] == charArrayB[beginB]) {
			distance = record[beginA + 1][beginB + 1];
			if (distance == 0) {
				distance = distanceHelp(charArrayA, charArrayB, beginA + 1, beginB + 1, endA, endB);
			}
		} else {
			int d1 = record[beginA + 1][beginB];
			if (d1 == 0) {
				d1 = distanceHelp(charArrayA, charArrayB, beginA + 1, beginB, endA, endB);
			}
			int d2 = record[beginA][beginB + 1];
			if (d2 == 0) {
				d2 = distanceHelp(charArrayA, charArrayB, beginA, beginB + 1, endA, endB);
			}
			int d3 = record[beginA + 1][beginB + 1];
			if (d3 == 0) {
				d3 = distanceHelp(charArrayA, charArrayB, beginA + 1, beginB + 1, endA, endB);
			}
			distance = min(d1, d2, d3) + 1;
		}
		record[beginA][beginB] = distance;
		return distance;
	}

	private static int min(int x, int... yy) {
		int m = x;
		for (int y : yy) {
			if (y < m) {
				m = y;
			}
		}
		return m;
	}
}
